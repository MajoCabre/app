{"version":3,"sources":["CartContext.js","Components/CartWidget.js","Components/NavBar.js","Footer.js","Components/category/ItemDetailContainer.js","Components/category/CategoryList.js","firebase/index.js","Components/ItemListContainer.js","Components/ItemCount.js","Components/category/ItemDetail.js","Components/cake/Item.js","Components/FormularioCompra.js","Components/Cart.js","App.js","index.js"],"names":["contexto","createContext","Provider","CustomProvider","children","useState","cart","setCart","isInCart","producto","ret","forEach","element","id","length","valor_de_contexto","cartList","agregarProducto","newCartFiltered","filter","push","newCart","borrarProducto","vaciarCarrito","value","CartWidget","useContext","total","setTotal","useEffect","stock","to","className","src","alt","NavBar","Footer","ItemDetailContainer","img","categoria","redirect","CategoryList","data","map","elemento","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getDatabase","firestore","ItemListContainer","dataMock","setDataMock","a","baseDatos","getDocs","collection","querySnapshot","response","doc","console","error","ItemCount","item","onAdd","setContador","onClick","newItem","ItemDetail","categoriaId","useParams","itemToAdd","nombre","Item","itemId","cake","setCake","docRef","getDoc","docSnap","exists","precio","FormularioCompra","name","setName","phone","setPhone","email","setEmail","handlerSubmit","event","preventDefault","buyer","type","onChange","target","Cart","showForm","setShowForm","ordenCompra","setOrdenCompra","price","parseInt","totalByStock","vaciarHandler","onBuy","dataCompra","items","title","date","Date","addDoc","borrar","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"kLACaA,EAAWC,0BACTC,EAAaF,EAAbE,SAEFC,EAAiB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAE5B,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAuBMC,EAAW,SAACC,GACd,IAAIC,GAAM,EASV,OAPAJ,EACCK,SAAQ,SAAAC,GACFA,EAAQC,IAAMJ,EAASI,KACtBH,GAAM,MAIPJ,EAAKQ,OAAS,GAAKJ,GAGxBK,EAAoB,CACtBC,SAAWV,EACXW,gBApCoB,SAACR,GACrB,GAAID,EAASC,GAIN,CACH,IAAMS,EAAkBZ,EAAKa,QAAO,SAACP,GAAD,OAAWA,EAAQC,KAAOJ,EAASI,MACvEK,EAAgBE,KAAKX,GACrBF,EAAQW,OAPW,CACnB,IAAMG,EAAO,YAAOf,GACpBe,EAAQD,KAAKX,GACbF,EAAQc,KAiCZC,eAzBmB,SAACb,GACpB,IAAMS,EAAkBZ,EAAKa,QAAO,SAACP,GAAD,OAAWA,EAAQC,KAAOJ,EAASI,MACvEN,EAAQW,IAwBRK,cArBkB,WAClBhB,EAAQ,MAuBZ,OACI,cAACL,EAAD,CAAUsB,MAAOT,EAAjB,SACKX,KCxBEqB,EAvBI,WAEf,IAAQT,EAAaU,qBAAW1B,GAAxBgB,SACR,EAA0BX,mBAAS,GAAnC,mBAAOsB,EAAP,KAAcC,EAAd,KAYA,OAVAC,qBAAU,WACN,IAAIF,EAAQ,EACZX,EAASL,SAAQ,SAAAC,GACbe,GAAgBf,EAAQkB,SAG5BF,EAASD,KAEV,CAACX,IAGA,eAAC,IAAD,CAAMe,GAAG,QAAQC,UAAU,cAA3B,UACI,qBAAKA,UAAU,QAAQC,IAAI,cAAcC,IAAI,YAC5CP,EAAQ,GAAK,qBAAKK,UAAU,oBAAf,SAAoCL,QCH/CQ,EAhBA,WAEd,OACC,iCACC,sBAAKH,UAAU,WAAf,UAEC,cAAC,IAAD,CAAMD,GAAG,IAAT,SACC,qBAAKC,UAAU,OAAOC,IAAI,WAAWC,IAAI,WAG1C,cAAC,EAAD,UCLWE,EARA,WACX,OACI,iCACI,oBAAIJ,UAAY,SAAhB,yB,uBCgBGK,EAjBa,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,UACzBC,EAAQ,sBAAkBD,GAEhC,OACI,mCACA,qBAAKP,UAAU,aAAf,SACC,eAAC,IAAD,CAAMA,UAAU,mBAAmBD,GAAKS,EAAxC,UACO,6BAAMD,IACN,8BACA,qBAAKP,UAAU,gBAAgBC,IAAKK,EAAKJ,IAAI,qBCE9CO,EAXM,SAAC,GAAY,IAAXC,EAAU,EAAVA,KACnB,OACI,mCACKA,EACIC,KAAI,SAACC,GAAD,OACL,cAAC,EAAD,CAA8CL,UAAWK,EAASL,UAAWD,IAAKM,EAASN,KAAjEM,EAASL,iB,gBCKvCM,IATW,CACnBC,OAAQ,0CACRC,WAAY,yCACZC,UAAW,yBACXC,cAAe,qCACfC,kBAAmB,gBACnBC,MAAO,+CASJ,SAASC,IACZ,OAAOC,MCbX,IA2BeC,EA3BW,WAEtB,MAAgCjD,mBAAS,IAAzC,mBAAOkD,EAAP,KAAiBC,EAAjB,KAoBA,OAlBA3B,oBAAS,sBAAC,gCAAA4B,EAAA,sEAEIC,EAAYN,IAFhB,SAG0BO,YAAQC,YAAWF,EAAW,eAHxD,OAGIG,EAHJ,OAIIC,EAAW,GAEjBD,EACKlD,SAAQ,SAACoD,GACND,EAAS1C,KAAK2C,EAAIrB,WAG1Bc,EAAYM,GAXV,kDAaFE,QAAQC,MAAM,0BAAd,MAbE,0DAgBP,IAGC,cAAC,EAAD,CAAcvB,KAAMa,K,gBC0BbW,EApDG,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,MAEtB,EAA6B/D,mBAAS,GAAtC,mBAAOyB,EAAP,KAAcuC,EAAd,KAwBA,OACI,qCACI,sBAAKrC,UAAU,aAAf,UACI,wBAAQA,UAAU,SAASsC,QAlBjB,WAEfxC,EAAQ,GACPuC,EAAYvC,EAAO,IAef,SACI,sBAAME,UAAU,iBAAhB,qCAEJ,wBAAQA,UAAU,SAASsC,QA5BjB,WAEdxC,EAAO,GACPuC,EAAYvC,EAAO,IAyBf,SACI,sBAAME,UAAU,iBAAhB,uCAIJ,mBAAGA,UAAU,aAAb,SAA2BF,IAE/B,sBAAKE,UAAU,aAAf,UACI,wBAAQsC,QAtBG,WACnB,IAAIC,EAAO,eAAOJ,GAClBI,EAAQzC,MAAQA,EAChBsC,EAAMG,IAmBmCvC,UAAU,SAA3C,gCAIA,cAAC,IAAD,CAAMA,UAAU,mBAAmBD,GApB9B,QAoBL,SACI,wBAAQC,UAAU,SAAlB,4CCWLwC,EAnDI,WAEf,IAAQC,EAAgBC,cAAhBD,YACR,EAAgCpE,mBAAS,IAAzC,mBAAOkD,EAAP,KAAiBC,EAAjB,KACQvC,EAAoBS,qBAAW1B,GAA/BiB,gBAERY,oBAAS,sBAAC,gCAAA4B,EAAA,sEAEIC,EAAYN,IAFhB,SAG0BO,YAAQC,YAAWF,EAAD,sBAA2Be,EAA3B,YAH5C,OAGIZ,EAHJ,OAIIC,EAAW,GAEjBD,EACKlD,SAAQ,SAACoD,GACND,EAAS1C,KAAT,2BAAmB2C,EAAIrB,QAAvB,IAA+B7B,GAAIkD,EAAIlD,SAE/C2C,EAAYM,GAVV,kDAYFE,QAAQC,MAAM,UAAd,MAZE,0DAeP,IAEH,IAAMG,EAAQ,SAACO,GACX1D,EAAgB0D,IAGpB,OACI,mCACI,gCACI,oBAAI3C,UAAU,cAAd,SAA6ByC,IAC5BlB,EACIZ,KAAI,SAACwB,GACF,IAAM3B,EAAQ,sBAAkBiC,EAAlB,iBAAsCN,EAAKtD,IACzD,OACI,gCACI,qBAAKmB,UAAU,aAAf,SACI,eAAC,IAAD,CAAMA,UAAU,mBAAmBD,GAAIS,EAAvC,UACI,6BAAM2B,EAAKS,SACX,qBAAK5C,UAAU,gBAAgBC,IAAG,aAAQkC,EAAK7B,KAAOJ,IAAI,gBAGlE,cAAC,EAAD,CAAWiC,KAAMA,EAAMC,MAAOA,MAPxBD,EAAKS,iBCL5BC,EAhCF,WACT,MAAgCH,cAAxBI,EAAR,EAAQA,OAAQL,EAAhB,EAAgBA,YAChB,EAAwBpE,mBAAS,IAAjC,mBAAO0E,EAAP,KAAaC,EAAb,KAkBA,OAhBAnD,oBAAS,sBAAC,gCAAA4B,EAAA,sEAEIC,EAAYN,IACZ6B,EAASlB,YAAIL,EAAD,sBAA2Be,EAA3B,UAAgDK,GAHhE,SAIoBI,YAAOD,GAJ3B,QAIIE,EAJJ,QAMUC,UACRJ,EAAQG,EAAQzC,QAPlB,gDAWFsB,QAAQC,MAAM,UAAd,MAXE,yDAcP,IAGC,mCACI,sBAAKjC,UAAU,YAAf,UACI,qBAAIA,UAAU,cAAd,UAA6B+C,EAAKH,OAAlC,IAA2CG,EAAKM,UAChD,8BACA,qBAAKrD,UAAU,gBAAgBC,IAAG,mBAAc8C,EAAKzC,KAAOJ,IAAI,sBCsBjEoD,EAnDU,SAAC,GAAgB,IAAdhB,EAAa,EAAbA,QAExB,EAAwBjE,mBAAS,IAAjC,mBAAOkF,EAAP,KAAaC,EAAb,KACA,EAA0BnF,mBAAS,IAAnC,mBAAOoF,EAAP,KAAcC,EAAd,KACA,EAA0BrF,mBAAS,IAAnC,mBAAOsF,EAAP,KAAcC,EAAd,KAYMC,EAAa,uCAAG,WAAOC,GAAP,SAAArC,EAAA,sDAClBqC,EAAMC,iBASNzB,EARmB,CACf0B,MAAO,CACHT,OACAE,QACAE,WANU,2CAAH,sDAanB,OACI,uBAAM3D,UAAU,YAAhB,UACA,kCACI,sBAAMA,UAAU,YAAhB,qBACA,uBAAOiE,KAAK,OAAOV,KAAK,OAAO/D,MAAO+D,EAAMW,SA3BjC,SAACJ,GAAW,IAAD,EAC1BN,EAAO,OAACM,QAAD,IAACA,GAAD,UAACA,EAAOK,cAAR,aAAC,EAAe3E,aA4BvB,kCACI,sBAAMQ,UAAU,YAAhB,uBACA,uBAAOiE,KAAK,OAAOV,KAAK,QAAQ/D,MAAOiE,EAAOS,SA5BlC,SAACJ,GAAW,IAAD,EAC3BJ,EAAQ,OAACI,QAAD,IAACA,GAAD,UAACA,EAAOK,cAAR,aAAC,EAAe3E,aA6BxB,kCACI,sBAAMQ,UAAU,YAAhB,oBACA,uBAAOiE,KAAK,OAAOV,KAAK,QAAQ/D,MAAOmE,EAAOO,SA7BlC,SAACJ,GAAW,IAAD,EAC3BF,EAAQ,OAACE,QAAD,IAACA,GAAD,UAACA,EAAOK,cAAR,aAAC,EAAe3E,aA+BxB,qBAAKQ,UAAU,aAAf,SACI,wBAAQA,UAAU,wBAAwBsC,QAASuB,EAAnD,2BC2EGO,EAnHF,WAET,MAAoD1E,qBAAW1B,GAAvDuB,EAAR,EAAQA,cAAeD,EAAvB,EAAuBA,eAAgBN,EAAvC,EAAuCA,SACvC,EAA0BX,mBAAS,GAAnC,mBAAOsB,EAAP,KAAcC,EAAd,KACA,EAAgCvB,oBAAS,GAAzC,mBAAOgG,EAAP,KAAiBC,EAAjB,KACA,EAAsCjG,mBAAS,MAA/C,mBAAOkG,EAAP,KAAoBC,EAApB,KAEA3E,qBAAU,WACN,IAAIF,EAAQ,EAEZX,EAASL,SAAQ,SAAAC,GACb,IAAM6F,EAAQC,SAAS9F,EAAQyE,QACzBsB,EAAe/F,EAAQkB,MAAQ2E,EACrC9E,GAAgBgF,KAGpB/E,EAASD,GAELX,EAASF,OACTwF,GAAY,GAEZA,GAAY,KAGjB,CAACtF,IAEJ,IAGM4F,EAAgB,WAClBN,GAAY,GACZ/E,KAOEsF,EAAK,uCAAG,WAAOC,GAAP,mBAAArD,EAAA,6DAEJf,EAFI,2BAGHoE,GAHG,IAINC,MAAO/F,EAAS2B,KAAI,SAAC/B,GAAc,MAAO,CAAEC,GAAID,EAAQC,GAAImG,MAAOpG,EAAQgE,OAAQ6B,MAAOC,SAAS9F,EAAQyE,YAC3G1D,MAAOA,EACPsF,KAAM,IAAIC,OAGRxD,EAAYN,IATR,SAWW+D,YAAOvD,YAAWF,EAAW,WAAYhB,GAXpD,OAWJuC,EAXI,OAYVuB,EAAevB,EAAOpE,IAftB+F,IAGU,2CAAH,sDAgBX,OACI,qCACI,8BAEQ5F,EAASF,OAAS,GAClB,qBAAKkB,UAAU,cAAf,oDAMR,8BACKhB,EAASF,OAAS,GAAKE,EAAS2B,KAAI,SAAClC,GAClC,OACI,mCACI,sBAAKuB,UAAU,aAAf,UACI,sBAAKA,UAAU,YAAf,UAA4BvB,EAASqB,MAArC,gBAAyDrB,EAASmE,UAClE,wBAAQ5C,UAAU,SAASsC,QAAS,kBA7CjD,SAAC7D,GACZa,EAAeb,GA4CmD2G,CAAO3G,IAAjD,4CAOpB,8BACKO,EAASF,OAAS,GACf,sBAAKkB,UAAU,cAAf,yCAA0DL,OAIlE,8BACyB,IAApBX,EAASF,QAAgB,qBAAKkB,UAAU,cAAf,qCAG9B,8BAEQhB,EAASF,OAAS,GAClB,qBAAKkB,UAAU,aAAf,SACI,wBAAQA,UAAU,SAASsC,QAASsC,EAApC,mCAKZ,8BAE4B,IAApB5F,EAASF,QACT,cAAC,IAAD,CAAMiB,GAAG,IAAIC,UAAU,aAAvB,SACI,wBAAQA,UAAU,SAAlB,0CAKXqE,GAAY,cAAC,EAAD,CAAkB/B,QAASuC,IACvCN,GAAe,sBAAKvE,UAAU,UAAf,UACZ,sBAAMA,UAAU,cAAhB,+DACA,sBAAMA,UAAU,qBAAhB,SAAsCuE,WCrEvCc,EArCH,WAEX,OACC,cAAC,IAAD,UACC,eAAC,EAAD,WACC,cAAC,EAAD,IACA,eAAC,IAAD,WACC,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,OAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,IAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,2BAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,wCAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,QAAlB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,UACC,4DAIF,cAAC,EAAD,U,MCnCJC,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.5d0e57ba.chunk.js","sourcesContent":["import { createContext , useState } from \"react\";\r\nexport const contexto = createContext();\r\nexport const { Provider } = contexto;\r\n\r\nexport const CustomProvider = ({children}) => {\r\n\r\n    const [cart, setCart] = useState([]);\r\n\r\n    const agregarProducto = (producto)=> {\r\n        if(!isInCart(producto)){\r\n            const newCart = [...cart];\r\n            newCart.push(producto);\r\n            setCart(newCart);\r\n        } else {\r\n            const newCartFiltered = cart.filter((element)=>element.id !== producto.id);\r\n            newCartFiltered.push(producto);\r\n            setCart(newCartFiltered);\r\n        }\r\n    }\r\n\r\n    const borrarProducto = (producto)=> {\r\n        const newCartFiltered = cart.filter((element)=>element.id !== producto.id);\r\n        setCart(newCartFiltered);\r\n    }\r\n\r\n    const vaciarCarrito = ()=> {\r\n        setCart([]);\r\n    }\r\n\r\n    const isInCart = (producto)=> {\r\n        let ret = false;\r\n\r\n        cart\r\n        .forEach(element => {\r\n            if(element.id == producto.id){\r\n                ret = true;\r\n            }\r\n        });\r\n\r\n        return cart.length > 0 && ret;\r\n    }\r\n\r\n    const valor_de_contexto = { \r\n        cartList : cart , \r\n        agregarProducto : agregarProducto , \r\n        borrarProducto : borrarProducto , \r\n        vaciarCarrito : vaciarCarrito \r\n    }\r\n\r\n    return (\r\n        <Provider value={valor_de_contexto}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { contexto } from \"../CartContext\";\r\n\r\nconst CartWidget = () => {\r\n\r\n    const { cartList } = useContext(contexto);\r\n    const [total, setTotal] = useState(0);\r\n\r\n    useEffect(() => {\r\n        let total = 0;\r\n        cartList.forEach(element => {\r\n            total = total + element.stock;\r\n        });\r\n\r\n        setTotal(total);\r\n\r\n    }, [cartList])\r\n\r\n    return (\r\n        <Link to=\"/cart\" className=\"cart_widget\">\r\n            <img className=\"icono\" src=\"carrito.png\" alt=\"carrito\" />\r\n            {total > 0 && <div className=\"cart_widget_count\">{total}</div>}\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default CartWidget;","import CartWidget from \"./CartWidget\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst NavBar = () => {\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav className=\"logo_nav\">\r\n\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<img className=\"logo\" src=\"logo.png\" alt=\"logo\" />\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<CartWidget />\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default NavBar;","const Footer = () => {\r\n    return (\r\n        <footer>\r\n            <h1 className = \"titulo\">Contacto</h1>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import { Link } from \"react-router-dom\";\r\n\r\nconst ItemDetailContainer = ({img, categoria}) => {\r\n    const redirect = `/categorias/${categoria}`;\r\n\r\n    return  (\r\n        <>\r\n        <nav className=\"contenedor\">\r\n        \t<Link className=\"titulo_categoria\" to ={redirect}>\r\n                <h1 >{categoria}</h1>\r\n                <nav>\r\n                <img className=\"imagen_tortas\" src={img} alt=\"tortas\"/> \r\n                </nav>\r\n\t\t\t</Link>\r\n        </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ItemDetailContainer;","import ItemDetailContainer from \"./ItemDetailContainer\"\r\n\r\nconst CategoryList = ({data}) => {\r\n    return (\r\n        <>\r\n            {data\r\n                .map((elemento) => \r\n                <ItemDetailContainer key={elemento.categoria} categoria={elemento.categoria} img={elemento.img}\r\n                />)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CategoryList;","import * as firebase from \"firebase/app\";\r\nimport * as firestore from \"firebase/firestore\"; \r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCPRHZoRNuFL_6R_HRx49d_pZU8rRE6YBQ\",\r\n    authDomain: \"coderhouse-react-a76a6.firebaseapp.com\",\r\n    projectId: \"coderhouse-react-a76a6\",\r\n    storageBucket: \"coderhouse-react-a76a6.appspot.com\",\r\n    messagingSenderId: \"1056197126639\",\r\n    appId: \"1:1056197126639:web:6c5b9440c0708cbcc1ae1a\"\r\n  };\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport function getFirebase() {\r\n    return app;\r\n}\r\n\r\nexport function getDatabase() {\r\n    return firestore.getFirestore(); //devuelve la base de datos.\r\n}","import CategoryList from \"./category/CategoryList\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getDatabase } from '../firebase/index';\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\n\r\n\r\nconst ItemListContainer = () => {\r\n\r\n    const [dataMock, setDataMock] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const baseDatos = getDatabase();\r\n            const querySnapshot = await getDocs(collection(baseDatos, \"categorias\"));\r\n            const response = [];\r\n\r\n            querySnapshot\r\n                .forEach((doc) => {\r\n                    response.push(doc.data());\r\n                });\r\n                \r\n            setDataMock(response);\r\n        } catch (e) {\r\n            console.error(\"Error adding document: \", e);\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <CategoryList data={dataMock} />\r\n    )\r\n}\r\n\r\nexport default ItemListContainer;","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ItemCount = ({item, onAdd}) => {\r\n\r\n    const [stock, setContador] = useState(0)\r\n\r\n    const stockContador = () =>{\r\n\r\n        if (stock< 5){\r\n            setContador(stock +1)\r\n        }\r\n    }\r\n\r\n    const restaContador = () => {\r\n\r\n        if(stock > 0){\r\n            setContador(stock -1)\r\n        } \r\n    }\r\n\r\n    const agregarCarrito = () => {\r\n        let newItem = {...item};\r\n        newItem.stock = stock;\r\n        onAdd(newItem)\r\n    }\r\n\r\n    const redirect = \"/cart\";\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"contenedor\">\r\n                <button className=\"button\" onClick={restaContador}>\r\n                    <span className=\"material-icons\">remove_circle_outline</span>        \r\n                </button>\r\n                <button className=\"button\" onClick={stockContador}>\r\n                    <span className=\"material-icons\"> add_circle_outline </span>\r\n                </button>\r\n            </nav>\r\n\r\n                <p className=\"contenedor\">{stock}</p>\r\n\r\n            <nav className=\"contenedor\">\r\n                <button onClick={agregarCarrito} className=\"button\">\r\n                    Agregar al carrito\r\n                </button>\r\n\r\n                <Link className=\"titulo_categoria\" to ={redirect}>\r\n                    <button className=\"button\">Confirmar mi compra: </button>\r\n                </Link>\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ItemCount;","import React, { useState, useContext, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Link } from \"react-router-dom\";\r\nimport ItemCount from \"../ItemCount\";\r\nimport { contexto } from \"../../CartContext\";\r\nimport { getDatabase } from '../../firebase/index';\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\n\r\nconst ItemDetail = () => {\r\n\r\n    const { categoriaId } = useParams();\r\n    const [dataMock, setDataMock] = useState([]);\r\n    const { agregarProducto } = useContext(contexto);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const baseDatos = getDatabase();\r\n            const querySnapshot = await getDocs(collection(baseDatos, `/categorias/${categoriaId}/items`));\r\n            const response = [];\r\n\r\n            querySnapshot\r\n                .forEach((doc) => {\r\n                    response.push({ ...doc.data(), id: doc.id });\r\n                });\r\n            setDataMock(response);\r\n        } catch (e) {\r\n            console.error(\"Error: \", e);\r\n        }\r\n\r\n    }, [])\r\n\r\n    const onAdd = (itemToAdd) => {\r\n        agregarProducto(itemToAdd);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <nav>\r\n                <h1 className=\"titulo_item\">{categoriaId}</h1>\r\n                {dataMock\r\n                    .map((item) => {\r\n                        const redirect = `/categorias/${categoriaId}/item/${item.id}`;\r\n                        return (\r\n                            <nav key={item.nombre}>\r\n                                <div className=\"contenedor\" >\r\n                                    <Link className=\"titulo_categoria\" to={redirect}>\r\n                                        <h1 >{item.nombre}</h1>\r\n                                        <img className=\"imagen_tortas\" src={`../${item.img}`} alt=\"tortas\" />\r\n                                    </Link>\r\n                                </div>\r\n                                <ItemCount item={item} onAdd={onAdd} />\r\n                            </nav>)\r\n                    }\r\n                    )}\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ItemDetail;","import React, {useEffect} from 'react';\r\nimport { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getDatabase } from '../../firebase/index';\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\n\r\nconst Item = () => {\r\n    const { itemId, categoriaId } = useParams();\r\n    const [cake, setCake] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const baseDatos = getDatabase();\r\n            const docRef = doc(baseDatos, `/categorias/${categoriaId}/items`, itemId);\r\n            const docSnap = await getDoc(docRef);\r\n\r\n            if (docSnap.exists()) {\r\n                setCake(docSnap.data());\r\n            } \r\n            \r\n        } catch (e) {\r\n            console.error(\"Error: \", e);\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"container\">\r\n                <h1 className=\"titulo_item\">{cake.nombre} {cake.precio}</h1>\r\n                <div>\r\n                <img className=\"imagen_tortas\" src={`../../../${cake.img}`} alt=\"tortasddd\"/> \r\n                </div>\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Item;","import React, { useState} from 'react';\r\n\r\nconst FormularioCompra = ({ onClick}) => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n    const [email, setEmail] = useState('');\r\n\r\n    const nameChange = (event) => {\r\n        setName(event?.target?.value);\r\n    }\r\n    const phoneChange = (event) => {\r\n        setPhone(event?.target?.value);\r\n    }\r\n    const emailChange = (event) => {\r\n        setEmail(event?.target?.value);\r\n    }\r\n\r\n    const handlerSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const dataCompra = {\r\n            buyer: {\r\n                name,\r\n                phone,\r\n                email,\r\n            }\r\n        }\r\n\r\n        onClick(dataCompra);\r\n    }\r\n\r\n    return (\r\n        <form className=\"user_form\">\r\n        <label>\r\n            <span className=\"productos\">Nombre:</span>\r\n            <input type=\"text\" name=\"name\" value={name} onChange={nameChange} />\r\n        </label>\r\n        <label>\r\n            <span className=\"productos\">Telefono:</span>\r\n            <input type=\"text\" name=\"phone\" value={phone} onChange={phoneChange} />\r\n        </label>\r\n        <label>\r\n            <span className=\"productos\">Email:</span>\r\n            <input type=\"text\" name=\"email\" value={email} onChange={emailChange} />\r\n        </label>\r\n\r\n        <div className=\"contenedor\">\r\n            <button className=\"button confirm_button\" onClick={handlerSubmit}>Comprar</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default FormularioCompra;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\nimport { contexto } from \"../CartContext\";\r\nimport { getDatabase } from '../firebase/index';\r\nimport FormularioCompra from \"./FormularioCompra\";\r\n\r\nconst Cart = () => {\r\n\r\n    const { vaciarCarrito, borrarProducto, cartList } = useContext(contexto);\r\n    const [total, setTotal] = useState(0);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [ordenCompra, setOrdenCompra] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let total = 0;\r\n\r\n        cartList.forEach(element => {\r\n            const price = parseInt(element.precio);\r\n            const totalByStock = element.stock * price;\r\n            total = total + totalByStock;\r\n        });\r\n\r\n        setTotal(total);\r\n\r\n        if (cartList.length) {\r\n            setShowForm(true);\r\n        } else {\r\n            setShowForm(false);\r\n        }\r\n\r\n    }, [cartList])\r\n\r\n    const borrar = (producto) => {\r\n        borrarProducto(producto);\r\n    }\r\n    const vaciarHandler = () => {\r\n        setShowForm(false);\r\n        vaciarCarrito();\r\n    }\r\n\r\n    const cleanState = () => {\r\n        vaciarHandler();\r\n    }\r\n\r\n    const onBuy = async (dataCompra) => {\r\n\r\n        const data = {\r\n            ...dataCompra,\r\n            items: cartList.map((element) => { return { id: element.id, title: element.nombre, price: parseInt(element.precio) } }),\r\n            total: total,\r\n            date: new Date()\r\n        }\r\n\r\n        const baseDatos = getDatabase();\r\n\r\n        const docRef = await addDoc(collection(baseDatos, \"compras\"), data);\r\n        setOrdenCompra(docRef.id);\r\n        cleanState();\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                {\r\n                    cartList.length > 0 &&\r\n                    <div className=\"titulo_item\">\r\n                        Esta es su seleccion de productos!!!\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <div>\r\n                {cartList.length > 0 && cartList.map((producto) => {\r\n                    return (\r\n                        <>\r\n                            <div className=\"contenedor\">\r\n                                <div className=\"productos\">{producto.stock} unidades de {producto.nombre}</div>\r\n                                <button className=\"button\" onClick={() => borrar(producto)}>Eliminar del carrito</button>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            <div>\r\n                {cartList.length > 0 &&\r\n                    <div className=\"titulo_item\">El total de su compra es de {total}</div>\r\n                }\r\n            </div>\r\n\r\n            <div>\r\n                {cartList.length === 0 && <div className=\"titulo_item\">Su carrito esta vacio</div>}\r\n            </div>\r\n\r\n            <div>\r\n                {\r\n                    cartList.length > 0 &&\r\n                    <div className=\"contenedor\">\r\n                        <button className=\"button\" onClick={vaciarHandler}>Vaciar mi carrito</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <div>\r\n                {\r\n                    cartList.length === 0 &&\r\n                    <Link to=\"/\" className=\"contenedor\">\r\n                        <button className=\"button\">Ir a la pagina principal</button>\r\n                    </Link>\r\n                }\r\n            </div>\r\n\r\n            {showForm && <FormularioCompra onClick={onBuy} />}\r\n            {ordenCompra && <div className=\"factura\" >\r\n                <span className=\"titulo_item\">Su compra ha sido exitosa, su numero de orden es:</span>\r\n                <span className=\"productos orden-id\">{ordenCompra}</span>\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Cart;","import NavBar from \"./Components/NavBar\";\r\nimport Footer from \"./Footer\";\r\nimport ItemListContainer from \"./Components/ItemListContainer\";\r\nimport ItemDetail from \"./Components/category/ItemDetail\";\r\nimport Item from \"./Components/cake/Item\";\r\nimport Cart from \"./Components/Cart\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { CustomProvider } from \"./CartContext\";\r\n\r\n\r\nconst App = () => {\r\n\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<CustomProvider>\r\n\t\t\t\t<NavBar />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/app\">\r\n\t\t\t\t\t\t<ItemListContainer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<ItemListContainer />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route exact path=\"/categorias/:categoriaId\">\r\n\t\t\t\t\t\t<ItemDetail />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route exact path=\"/categorias/:categoriaId/item/:itemId\">\r\n\t\t\t\t\t\t<Item />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route exact path=\"/cart\">\r\n\t\t\t\t\t\t<Cart />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t<div>No se ha encontrado!</div>\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<Footer />\r\n\t\t\t</CustomProvider>\r\n\t\t</BrowserRouter>)\r\n}\r\n\r\nexport default App;","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App.js\"\r\nimport \"./estilos.css\"\r\nimport { CartContext } from \"./CartContext\";\r\n\r\n\r\nReactDOM.render(<App/>, document.getElementById(\"root\") )   \r\n"],"sourceRoot":""}